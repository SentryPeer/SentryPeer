# Found this at https://github.com/maxmind/libmaxminddb/blob/main/.github/workflows/clang-analyzer.yml
# See what it finds...
name: Run Clang Static Analysis
on:
  push:
  pull_request:
  schedule:
    - cron: '0 9 * * *' # Daily at 10:00 UTC
jobs:
  clang-analyzer:
    name: Clang static analysis
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - run: sudo apt-get install libosip2-dev clang-tools
      - run: |
          set -x
          ./bootstrap.sh
          scan-build ./configure
          scan-build --status-bugs make